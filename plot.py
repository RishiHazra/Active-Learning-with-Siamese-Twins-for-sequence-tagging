#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Mon Oct 29 14:21:55 2018
@author: rishi
CNN BiLSTM CRF
"""
import matplotlib.pyplot as plt
from statistics import mean
# t = [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]
# random  = [58.55,65.00,70.16,75.45,78.50,78.77,79.35,80.00,82.50,82.35,82.25,82.30,82.23,82.42,82.66,83.00,84.64,84.15,84.19,84.25,84.75,84.50,84.89,85.05]
# base = [90]*len(t)
# #==============================================================================
# '''
# NER CoNLL BALD
# '''
# siamese = [58.55,79.32,83.24,84.77,85.69,85.75,86.39,86.88,87.05,87.50,87.85,87.70,87.75,88.10,88.30,88.35,88.50,88.65,89.20,89.09,89.22,89.38,89.78,89.79]
# cosine  = [58.55,78.00,82.35,84.00,84.12,85.40,85.12,84.74,85.84,86.26,86.85,86.86,87.30,87.80,88.10,88.15,88.50,88.70,88.78,88.80,89.05,89.12,89.30,89.50]
# ST      = [58.55,72.08,78.89,83.10,84.70,85.18,85.12,85.70,86.05,86.15,86.35,86.76,86.90,87.50,87.70,88.20,88.30,88.15,88.50,88.75,89.00,88.90,89.20,89.15]
# none    = [58.55,67.00,71.45,79.95,81.86,82.50,84.23,84.50,85.37,86.21,86.54,87.30,86.44,87.50,87.80,87.90,88.10,88.05,88.30,88.58,88.78,88.89,89.01,89.20]
#==============================================================================
'''
NER CoNLL Entropy
'''
# siamese = [58.55,73.70,81.70,82.71,82.88,83.63,84.88,85.26,85.09,85.50,86.00,85.85,86.15,86.45,85.25,86.05,86.73,86.54,86.72,87.05,87.20,87.99,88.10,88.20]
# cosine  = [58.55,73.20,78.15,79.70,82.31,82.11,83.55,84.59,83.50,84.26,84.38,85.68,84.78,85.02,84.90,85.12,85.30,85.21,85.60,85.70,85.75,86.05,86.35,86.45]
# ST      = [58.55,68.39,73.32,75.00,77.52,79.43,80.73,79.63,80.52,80.92,81.10,81.50,80.90,80.19,82.54,82.45,82.69,82.50,82.70,82.90,83.20,83.10,83.45,83.29]
# none    = [58.55,68.10,74.10,78.00,80.97,78.58,81.00,82.40,82.86,83.52,84.26,84.69,82.91,83.71,84.74,84.92,85.14,85.09,85.31,85.20,85.75,85.85,85.90,86.12]
# #==============================================================================
'''
NER CoNLL Margin
'''
# siamese = [58.55,73.78,79.00,82.20,83.20,84.00,84.81,85.56,86.05,86.00,86.75,86.86,86.55,87.30,88.00,87.50,88.25,88.10,88.50,88.70,88.45,88.69,88.95,89.20]
# cosine  = [58.55,73.50,77.20,79.31,81.76,82.90,83.26,83.37,84.00,83.50,83.89,84.24,84.84,85.00,85.57,85.50,85.65,85.86,86.02,85.95,86.30,86.35,85.95,86.30]
# ST      = [58.55,67.78,74.86,76.00,77.56,77.80,80.01,81.05,82.45,82.91,83.81,84.00,84.20,84.35,84.76,84.81,85.00,85.12,85.19,85.25,85.45,85.64,85.50,86.00]
# none    = [58.55,68.00,72.95,77.40,80.85,81.00,81.10,81.31,81.43,81.83,82.10,82.92,84.16,84.20,83.80,84.45,84.56,84.21,84.57,84.87,84.70,85.01,85.10,85.05]
#===============================================================================
#===============================================================================
#===============================================================================
t = [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]
random  = [75.06,80.55,83.14,84.00,85.12,85.85,86.50,87.20,87.45,87.85,88.59,88.50,88.60,88.68,88.54,88.85,88.95,88.90,88.82,89.01,89.15,89.25,89.30,89.35]
base = [91.80]*len(t)
'''
POS CoNLL BALD
'''
# siamese = [75.06,84.00,86.56,87.21,87.72,88.77,89.20,89.86,89.90,90.05,90.15,90.13,90.30,90.25,90.45,90.57,90.75,90.55,90.78,90.88,90.95,90.80,91.01,91.10]
# cosine  = [75.06,84.02,86.40,87.00,87.59,88.50,88.83,89.50,88.90,89.95,89.05,89.69,90.05,90.22,90.12,90.35,90.45,90.39,90.43,90.50,90.65,90.26,90.59,90.79]
# ST      = [75.06,82.67,86.51,86.76,86.10,87.58,87.73,88.33,88.92,88.85,89.27,89.42,89.43,89.54,89.67,89.75,89.22,89.72,90.01,89.53,89.63,89.92,89.86,90.00]
# none    = [75.06,83.85,85.48,87.35,87.30,87.75,88.32,88.32,88.72,89.20,89.30,89.52,89.45,89.65,89.75,89.90,90.01,89.86,89.80,89.90,90.05,90.12,90.15,90.10]
#===============================================================================
'''
POS CoNLL Entropy 
'''
siamese = [75.06,83.25,84.00,84.30,86.19,85.78,87.02,87.20,87.38,87.77,87.90,88.05,88.35,88.53,88.85,88.70,88.90,89.05,88.98,89.07,89.25,89.30,89.45,89.91]
cosine  = [75.06,83.21,84.12,84.08,85.00,85.96,86.15,87.05,87.50,87.92,87.97,88.00,88.97,88.12,88.53,88.64,88.59,89.21,89.60,89.69,89.79,89.15,89.24,89.55]
ST      = [75.06,80.14,81.50,82.78,82.60,83.07,83.21,82.70,83.43,83.83,83.87,82.51,83.50,84.20,84.82,84.90,85.35,84.65,84.75,84.90,85.20,85.25,85.45,85.45]
none    = [75.06,83.08,83.88,84.25,85.26,86.00,85.29,86.00,87.25,87.53,87.65,87.50,87.89,88.00,88.10,88.32,88.54,89.05,89.10,89.30,89.50,89.09,89.21,89.63]
#===============================================================================
'''
POS CoNLL Margin
'''
# siamese = [75.06,81.20,84.25,85.84,86.16,86.86,87.10,87.59,88.24,88.79,89.02,88.75,88.90,88.78,89.01,89.15,89.55,89.87,89.78,89.75,89.91,89.97,89.85,89.99]
# cosine  = [75.06,81.15,83.87,86.55,86.92,86.50,87.69,87.23,87.83,88.23,88.83,89.10,89.34,88.45,89.00,89.05,89.25,89.70,89.50,89.70,89.80,89.76,89.80,89.75]
# ST      = [75.06,79.85,80.38,81.58,83.00,83.78,84.30,84.75,85.31,85.72,85.75,85.90,86.01,86.17,86.59,86.71,87.01,87.22,87.54,87.85,87.79,88.01,88.97,88.10]
# none    = [75.06,81.00,83.45,84.25,84.85,85.96,86.89,85.50,87.21,87.53,87.73,87.32,87.99,88.21,88.52,88.70,88.64,88.90,89.05,89.25,89.12,89.22,89.50,89.58]
#===============================================================================
#===============================================================================
#===============================================================================
t = [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]
random  = []
base = [70.50]*len(t)
'''
MIT Movie BALD
'''
# siamese = [57.00,58.00,61.77,62.33,63.50,64.50,64.86,65.32,65.80,66.30,66.70,67.09,67.50,68.27,68.00,68.29,68.49,68.57,68.75,68.32,68.40,68.65,69.56,69.54,68.83,68.63,69.35,69.91,70.00]
# cosine  = [57.00,58.05,60.00,62.00,62.55,63.40,64.85,65.30,65.40,66.10,66.50,67.00,66.51,68.20,67.00,67.55,67.54,67.85,68.30,68.20,68.44,68.09,68.30,68.63,69.23,68.55,69.00,69.10,68.73]
# ST      = [57.00,58.00,59.60,61.31,62.75,63.10,64.50,64.35,65.00,65.79,66.00,66.85,66.20,67.00,67.10,66.50,67.00,67.95,68.50,67.80,68.20,68.61,68.40,68.83,68.58,68.60,68.75,68.90,69.05]
# none    = []
#===============================================================================
'''
MIT Movie Entropy 
'''
siamese = [57.00,58.00,58.99,61.00,61.95,63.00,64.00,64.20,65.05,65.25,66.05,66.00,65.15,66.35,66.20,66.50,67.15,67.00,67.20,67.70,67.00,67.30,67.25,67.29,67.40,67.57,67.80,68.00,68.55]
cosine  = [57.00,57.50,59.19,60.00,60.20,62.50,63.47,63.51,64.00,64.05,65.25,64.52,65.00,65.50,65.00,65.50,65.80,66.03,66.44,66.90,66.58,66.75,67.20,67.30,67.05,67.50,67.15,67.00,67.80]
ST      = [57.00,57.40,58.00,60.00,61.30,61.02,61.50,63.06,64.25,64.02,64.75,64.95,65.20,66.13,65.05,65.70,65.35,65.81,66.75,67.35,66.25,67.00,66.35,67.25,66.23,67.00,66.70,67.40,67.19]
none    = []
#===============================================================================
'''
MIT Movie Margin
'''
# siamese = []
# cosine  = [75.06,81.15,83.87,86.55,86.92,86.50,87.69,87.23,87.83,88.23,88.83,89.10,89.34,88.45,89.00,89.05,89.25,89.70,89.50,89.70,89.80,89.76,89.80,89.75]
# ST      = [75.06,79.85,80.38,81.58,83.00,83.78,84.30,84.75,85.31,85.72,85.75,85.90,86.01,86.17,86.59,86.71,87.01,87.22,87.54,87.85,87.79,88.01,88.97,88.10]
# none    = [75.06,81.00,83.45,84.25,84.85,85.96,86.89,85.50,87.21,87.53,87.73,87.32,87.99,88.21,88.52,88.70,88.64,88.90,89.05,89.25,89.12,89.22,89.50,89.58]
#===============================================================================



plt.rcParams['font.size'] = 15
plt.figure(figsize=(8,8))
#plt.plot(t, p, 'r--', t, r, 'b--', t, f1, 'g--', marker='o',linewidth=2, markersize=12)

import math
xint = range(min(t), math.ceil(max(t))+1,2)
plt.xticks(xint)
yint = range(74, 92, 2)
plt.yticks(yint)

#plt.ylim(58,91)

import matplotlib.patches as mpatches


# construct some data like what you have:
# Visualize the result
plt.plot(t,base,'g--',linewidth=3.0,label='100 % data')

plt.plot(t, siamese, 'or-',label='Siamese')
#plt.plot(t, cosine, 'ob')
plt.plot(t, ST, '*b-.',label='SkipThoughts')
plt.plot(t, cosine, '>k--',label='Cosine')
plt.plot(t, none,'Dm:',label='None')
plt.plot(t, random, 'sy-.', label='Random')
#plt.fill_between(t, f1_min, f1_max,color='darkslategrey', alpha=0.2)



#green_patch = mpatches.Patch(color='g', label='100 % data')
#red_patch = mpatches.Patch(color='r', label='Siamese')
#black_patch = mpatches.Patch(color='k', label='Cosine')
#blue_patch = mpatches.Patch(color='b', label='SkipThoughts')
#magenta_patch = mpatches.Patch(color='m', label='None')

plt.legend()
#plt.legend(handles=[green_patch, red_patch,blue_patch,black_patch,magenta_patch])
plt.title('Dataset: CoNLL 2003 (POS), Model: CNN_BiLSTM_CRF, ALS: Entropy', fontsize=14)
plt.xlabel('Percentage of data')
plt.ylabel('F-score')
plt.savefig('Dataset: CoNLL 2003 (POS), Model: CNN_BiLSTM_CRF, ALS: Entropy.png')